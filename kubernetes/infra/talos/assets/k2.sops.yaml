version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:wbAjzYLHFmiGt07fRldmhWHr/mWI8No=,iv:3MJ9/raH22y7WIOSDewTQI/Cd7D8GN+IQ/JBJwFCASI=,tag:3swNHodaeAqz1IvqceBHww==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:Ch5XBjlX+RRvmWLGV+N7N5ugIGJa3hBN0cPw9akcVGVi8+Xzqkh3QDbJnpJj/4CjoN4vSxP42ypiRHdv7eNDSYil0uTz1HVppc64gbr6qHKZzDF+Pjf30OG9HcU/wM6wbNWyMdXnbyYB+INlBq7+IEGKPtfIcfhD3r/+g7qMoBJ91dOr26KLopTxb9bJtkturxoPYLj9X4ZwJhxxeiPjkgeWywt1OMxgtGIXwk8VMMiyfXjScV+xm+rwxnwg9d+DAn0bJ4Lc8XS1BH4A9Dxl49+LGhKaAruA3V2kaskiN+GQQ9D9UW5kDMaHq4OHOZ8uRNSNIdEyFNAYUh9JGYuMPM6ORQfBHn6phz7o1bbrUO0KWizaoT43Sf1eXdKogfqwocWmVFOWsJiPMRDscPRwSTwD0simzMbfvz6SSVCkHx3Nnj41Zd94A5tkyoAKEb/UDoVa549aTeGkZKUDZfsdTYliGxNZmVCbG+i86NCatq10umZYSBbDatx508K058N1B330ukM4lve9nxVgEAlsRKvOHJdlx9VJtLjKWXDASRl+JmMNKaQzBQ3VPkGXtSUu77HQPciJPaNM7kUOEwSpQcHieH0ooj4OzGVksx8br7qN3wyBftzDI4IQgEFprRPEAU1JGqSlo9DnOyS8PNmA7fOo2ZBAOaCRn0Qxz90EYQrXTuTWO3ubujFrRAJ/SBysYU8OmQ9RiktfWExsA2G7+YMcV1QMFai+mnOQVUufz1cFTsuyTaiPx0YWzTEEy6y0e3i2LoIZiXQzgmJF02idLp6tYqCYHHcA7339oAISPjeID8rfYtOma/OPDorrcZrWfmmsSHowTFT+R0yhhGNEK+uWiWOC+2RdtHzDkB1bTwPaeEg8,iv:7t++6+MCrYdGU4dbe9wDov5vjy4CbTBmHm+rWdoRS8c=,tag:pKoSyMXjTX3QbDrffDsJXg==,type:str]
    key: ENC[AES256_GCM,data:OfRUiFyw4upxwwb+6KeJStBlghsxhBMXtovFZRoJafzgey3e+fFs9diM/ErnIKSq4WQ3cMoj3A65Vsj1i5L3ZiRluHZullbk4ZiwKW/vM0MG7fQ7k+rwQPRCVSK+3mhRQw35rSDdMGh9JFLh9/V22Wi/W0VXESHdvZ1D1c98gy7NeToRM/h2ZmCegcvMByoxhaBGVy/XofswPsHSnxmrklSwQXcnTH6LSRfkoaAHCSSdphQs,iv:FuOGcLssShyizDrdDYXENKe6plRJA+CWorwkwRc9fXE=,tag:3+UgIWXi+LRIEWwY7I/tVw==,type:str]
  certSANs:
    - 172.16.16.1
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      rotate-server-certificates: "true"
    extraMounts:
      - destination: /var/mnt/longhorn
        type: bind
        source: /var/mnt/longhorn
        options:
          - bind
          - rshared
          - rw
      - destination: /var/localpath
        type: bind
        source: /var/localpath
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 172.16.16.0/24
    disableManifestsDirectory: true
  network:
    hostname: k2.monosense.dev
    interfaces:
      - interface: enp0s31f6
        addresses:
          - 172.16.16.4/24
        routes:
          - network: 0.0.0.0/0
            gateway: 172.16.16.254
        vlans:
          - routes: []
            dhcp: true
            vlanId: 1613
            mtu: 1500
            dhcpOptions:
              routeMetric: 4096
        mtu: 1500
        dhcp: false
        vip:
          ip: 172.16.16.1
    nameservers:
      - 172.16.16.254
      - 10.11.11.12
      - 10.16.16.4
    extraHostEntries:
      - ip: 172.16.16.1
        aliases:
          - k8s.monosense.dev
          - infra.monosense.dev
    disableSearchDomain: true
  disks:
    - device: /dev/nvme0n1
      partitions:
        - mountpoint: /var/mnt/longhorn
  install:
    disk: /dev/sdb
    extraKernelArgs:
      - mitigations=off
    image: factory.talos.dev/installer/ba0a120eebddb1f0ded54bb4f2adc3a8df6c947d1aeaa7ebf2149825ba32dfc0:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - content: |-
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
          [plugins."io.containerd.grpc.v1.cri".containerd]
            discard_unpacked_layers = false
          [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
            discard_unpacked_layers = false
      permissions: 0
      path: /etc/cri/conf.d/20-customization.part
      op: create
    - content: |-
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        noatime=True
        nodiratime=True
        rsize=131072
        wsize=131072
        nconnect=8
      permissions: 420
      path: /etc/nfsmount.conf
      op: overwrite
  time:
    disabled: false
    servers:
      - time.google.com
      - time.cloudflare.com
      - 172.16.16.254
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    kernel.randomize_va_space: "0"
    net.core.netdev_max_backlog: "30000"
    net.core.rmem_max: "67108864"
    net.core.wmem_max: "67108864"
    net.ipv4.tcp_rmem: 4096 87380 33554432
    net.ipv4.tcp_tw_reuse: "1"
    net.ipv4.tcp_window_scaling: "1"
    net.ipv4.tcp_wmem: 4096 65536 33554432
  features:
    rbac: true
    stableHostname: true
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  nodeLabels:
    topology.kubernetes.io/region: infra
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:iteEOjG0YkoStE9uHt5Am8MGPyu+e7dy297tlJB0aAZ74OEYK6imE48FCsY=,iv:ICJul6KskwOnmzSUJ+/rzS+V/x2YcfGwLxDAXI5UquE=,tag:HkOPMn4XL3jwuDrD1VBSTA==,type:str]
  secret: ENC[AES256_GCM,data:6/rRBTxScPExuIs1p1K1B5PArvxfQN0Ed/Y2ilUoE2IMhMQcud98jZnHJk4=,iv:uZFmmwH6JAsSxFsTnBg5+xdWYG+nq+/vUo3UpEM9fz8=,tag:JQ2+k/Ig4DnH3RR6NSC+GA==,type:str]
  controlPlane:
    endpoint: https://k8s.monosense.dev:6443
  clusterName: infra
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.44.0.0/16
    serviceSubnets:
      - 10.45.0.0/16
  token: ENC[AES256_GCM,data:SMBe09e/+uyxlJEy08Hrj4m+lBfWe2U=,iv:vkxmZvvMYY5lyBNlZKxyrJPb0R5USlwTY1QhCqSLCDM=,tag:lTnZYgjZoUTMsD6/BDLMpw==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:d97cMBRN0RTvytNvRF2eM5uSEBh1JMeWzeCCiC2kIHj9ZljmsFVVF4pyJfw=,iv:T02rg5bPStsKeA14ZPPKxZFh+MjT+WLuWi6KUJvEBvM=,tag:5Q0eWtEhTUmORdNXsyDZ0Q==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:JGpN1ZM7Aaw7CCOYHk8HFO+L9oB/Sa6mGJz5i1i14wZ9WqV314hqxKG2fiB4bRGM7L2ta8k55o5fmgS53n/xCDpJC/RLZvCJJMw//jPoeMfRjq+1mZ34wI9phUwxxTkeF5QFlM4jGJdjmXdHnjQNfxf3a61ApErji0SJ+Uj6Yk8yqV7XYp5rreJJenNu/BYARw9HZUC6XJ5eBfw3+3P/AQ+VcQGVS4vIXWkiFl1/EbFZ2myZA7yRnuQGd/mXj8uM/FoD6WYuJcB98rK9bBIS6Ay6ONXr7etSS0M1lu83R9tIfFYrV80YVrO3itFRdHc65yJVVNCYQUSZypms8pMVAJd8LuxXKGxT7pyZj3TKoVGmk/wLHsSVMCARnCdQzlMIaTDfvjP+b0h7YB2y6fqf+4iZi6+PW9u9JMCo08CAn43jQjdEiQMMrmsmlv09LSqRIik+z3jjyubm/E41PpS4Oxuct+ycD/N10XBHyR72R2qgPlrKUKExW7xvvQUQZRTXi2c/lFzazjW1qlq/bg7p2EB39rOZKguaZvmA7Q/qYcToIpst8EbDYNcoZMnKsnrqYw2tgQ2+r88F5eJD/ZFAWL5Ji8Ue4jVFW2Opb9D99MLV0urtcqge1prMQo+KySIkCa+mNht7FClzIaq7dJDoaJ498/vcqB1vPCqKRvvAVCLOYk3XOe5iF0LciUJyYw8j3SaI0zByacxz/UUmMYS8aNeVeuP9V2D+OR7LinBtu8rW2qsPXIC8R4Txis0PwibEFLCNXWk2Gkuru5aHoW6yROK7yaaIUujSqMsdWNpnKwQnvn1a12Hec6cvEqpFxxFYE/ESBMi5Tjqp+UA5Ego1bztWwOKAP6QMqIRckJHveh0N/m8TLMnywwN44iht5KURiBbF6jBtomG1rfAXM1BZdGCk7525ejt3qkRYXP7fiUBZjClDpdSBA2nSqKIGuGD5WAZ7KorqRTnTvM+Ucc/z5jjnyTg7C7pFfsOgtrHT4a/3DpatA34i55y713IFDdIcl/5n97p+wKDxKTReXdD4qUNrkWs=,iv:WhcW+IQjuTPMSEvoshbiyKcx/J6e+U9qBcI0uzPMQYo=,tag:jMyH3ZBximsa74L3SldjJw==,type:str]
    key: ENC[AES256_GCM,data:vQyTe6DhRSrdUpmPJq1Dqyy93x1v7TdSOD88y3wI+RWWqk5iuYXWt7+H2et472xGMBEgiwZ2nP2YjD3RmpFF+ogfV3t/h/RfqDX7Sj/ep/oT2GKDO7qZjTGJJKAdPhDYNd4KZw4yuQ2Rx0g9ZXAqD/Q3pTdlnVjpLoy2EbTXV1NKZV5lQ9/OiTt/q6CEqtjfR6V+Qklh1g1hifsWnBynOpLMbOfuyufb917kPr6eIHMunv5CjlEkDZt8ST8mm150yvJkaCYuI1oKGyg+pF6aA5GiU8ick2/3blqjZH0OM4d9b4PiZ0aKiqN0e2vFHnRaMEs/JCOrMCtflUJ3k4TQBh9+hB2lJ1vQ4t3eHtEObTbEFM2lX4aoJ4UA6DZc+ViK3vRwYthfoj+xSvBWsSjMYQ==,iv:hdPwetmfQuZeblzrTTL4EEFmMnELoIhSypf+B4bz1+A=,tag:0oXXEfMI0Ia+0xyKJTBffw==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:fGhjKZ66aJtzcMbTokVaBQETvMxOZT0mysLHJ418JCmheQAFJrDEOu1ytQqOIDOkb50lbeh17pCqd7a7v/TOwQl/s0b78d8S0PxCilC4WBuRRyHAvERg2R2gSsIzcHZ2/lZZz59igar3Hyy2GtxFDOYhoyE1Sf54SHsVlnGUy6rkoZwYZwVYmtqD1SRacw/YJxkHDmVNjWhhdtFc3mZRuZZJQ1bF/z5ScnfeA6bwLsJA35mLhEAIM2TyEqsEt+hAavaEvFUW9FUXad803BXpRRLZmX3ThMNslpld0O1Pp/0izUCgn2XDzB+nCYxoppsdemqZe+pV+WjbVTJYumyJ02FTFt5Ovt02wk0LFqifAjooimo7xzjB97ujmvN77NOuV3NEKFRIsT6+U+9+IZd0HeLcTXutgjoP+Vwhx8MJJMtMCR8hBr+otn/Ah4eEILGyCgkmtcDxGrwKeVRGt3mpIPstIXwagYEa785gzqqo3eOTEDO/EsyzULBpSSFfB8177Z2WlQ/JYfBQ25baCCZLDgusUwzq4dczmilTT/axJR+IlR6V0zZMWeo639Qk9lS4xLHoOxOAbPSUvqqhvA85gM8jDoMim+zzIf63kmyMEG7ygciK4Xz4mW05thEvfjZKwv5L/ctyQWqca0SFW9eFjac7D7L3KKqQMNNg3COHeFWbE82UwcXoyhmmxUj1qUNScJJMwkEn8rNgz82fNTLF6VMbXNvdsCFSDmLg+trhEQOXVaTUJBGoAur5TXQHSS6X/a3zFeUDKtE4l+OeSuOWId2ym4ypBCJF2J2wHWVEs8mVsnB27geo8W6SnELeGc24RbZfZHVzZFgzq9j3vBJGN9DpNkmzebI+mCyFzfNIJ9GabdPQDfLI0dR4iAxBI9vmMTwoUkMkYy5HeQlPG3bKzfQsUJ2vHx7OUaAInmgkWcwqEV31iksXyngu8RaQA8+U,iv:aWJKEn/B/3L9xpZvx2vhq2GbdgtuGKOrvD6euBILuiw=,tag:i0dn4zewn8dWiQxXSoUf/g==,type:str]
    key: ENC[AES256_GCM,data:NRorLKT94siO4GBeQ5wPDAk2MIufXURnULm4ENgrEIS7pH9sBX9XPALaGgEP5hrP3nTDyuexfeO/zjxQK1I8lAZtE7PsB4UIR/HGtkiqtcB3L23dhsO+10R/NfNh3lHeUe/RzfeNLx51Z10FjMjO0oH8HKg0mgBviyvKEZRL22Izspt7FElmnOftQjc2B1a+gHxc7FPwF1VKZcHsuw66VkDICPvI2SYN49YBzEC/bnsGcFQy6OXmFzheH3+1FgxaZOk0jQtGQB2bPOGxXZzS1VUVXKcs488TcJ2JlMK5gZogJ5epkBBMIfNjlZ679GVovVqhFMgkMBOwBVv0RZAIe25LtGBGKhQCI5hHSpv4Brl1Dpze4BU6j1DrMa3trzyXom7185c4ViHeGTkaZdxGtw==,iv:YMohlajlhR4IH1T1+Wg2Mb51wvi6Fasv/voVk3jVSD0=,tag:OESrkVGBIdApbcUOIfPWGg==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:M6sRno1P10Emh+w7QXDMQpbu+okFkFvNtUL0EDgg5zY=,tag:ON7wUA0rV84VMrAjxDSPzg==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    certSANs:
      - k8s.monosense.dev
      - 172.16.16.1
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:{{ ENV.KUBERNETES_VERSION }}
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - pluginConfig:
            - args:
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
                defaultingType: List
              name: PodTopologySpread
          schedulerName: default-scheduler
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: false
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:dDyRT4gKCsKpz71Rt8IWZT4VWJmUwUwkAnxYEsPTbRSCOdoGT7Z1P59f7/8Ykau0MMh9UkZxbKJYjFJ84u2ZC4fi+n6ecLCf9NdUqEpcejaD8Wr6crHPpmTVO6BBwRsv6nvtLASr7cf3iWi/bpGBtHwF4Ytv0aiS2wLsMGNrguBeyn+gHfWN/tGQaf9D2/+PdPHoW3M1+Lol4QkPrmZLSFZI1dwMacPL/k3X5ZpMeqP1oq2L59WdE3Y5bAyBlQuNU22Zs2anFtf8nLrqB9Yy56hE3zLGJPVhFzyeA/lQxh9XXd4L7llvq0ttIu4BKqA7fGkp9LqE0KyRMch9Br9hrAMEJ4xsvcKlaJyu8Yp5IVHFEpzGP08MF3R2hGHKEVXcu8Q2SX2Gj5MDvxIBJqRqth4u2qye58qdfQ64QltB1uqlxjlf00KVCZTnjXsc0oP6BW8p99T6sU8SEezjDdCWEP1udmYbWe1w/4HucGkqsWP3DCZr+zGMWgP1BeTcZxQuWS9DGsT5G5+YuJ9B+mmb9NUMyddzZ2dG0xZy6LteHZnyZIl45QueGj8bX20W5oPBehXukoFnoeTNeIJuc1nyW+FOPkqSUq4/XHtbsw4+uvDn8cHFEEaf787/0KoJLZJ5JU3lr1YhxVkof3KXIAHCKK5u+Lp7tnXU54w1Si6RCCYECh2Qzb8YubOnelDg4Q5OwFgtjHomcEatgpWOR1HcmqrsQRqUtZMLGvcxKv8ZtjuMhSfnMK1WmwtvA/gTHyozPQWEljla61RxvsFAQVbcL5hbvOPepL4k963CQ/CsFpdmTXKYuo8c/mtA957VL7lD/5Fr1QfHvgX+jqxzgG0GatNI74bS0M6W4lZr/nLH9znuNSMuOOW27leNFjngRkSQjor/y65+HE9+aFINJ0zrSwz5Yt8xGKmHAXhpzID4xHn+6syZhrqq7pd2jFRD72TjgqKGKl6EwH4jPnb61z+dILiJ+KEEA3gNAn8jXrPR5lb71SDnDIGJWxoYzQ9KoNcsxF3xXg==,iv:7OUXyLyN8xQ7d0rEPr2uISTohTTBKrpNiRhhjYejKok=,tag:FeQuO6iJAb8xh3GyAszl5g==,type:str]
      key: ENC[AES256_GCM,data:dz86G2sLx4LyGFBkmx3KiyPKv1HrneTkVPIzRe7kDjryDbWGKqiqmhUsG6i5IsqwiNq6m7tapjX+tU0erbhLHT7MFqtvcYiSC+Fmo85dOq58ql+X9Qb0oJTBynRwIKRVMwMbMi7Jg3JrfDVHeRdty0NWOBFCnE9JpIKiWSMz5Nu7aeis6KuHbpOs1n8V3Sn/iybjbUsJzmlBR0qlywJKc9W26lrRz/tincXdtzbnjFii8/5Jt+FAMLAYQPfbEf2bhfBBtuh0TwoS4f6qHCqsDre1ZREA0xbWIqfWVoWu9rFtpfnfy6i1OSF4Vc6xybIumZtqytM0nT3zK0Diz5uMYitvkZBohJr0oYMtWrI3KmQl3/7Ybti3S8Ccl3Om4pITWApslAJeggGV8OOP0jf9Pw==,iv:fG9dgf7Bw+mh1bgT30+B3Jgxbtv69jCXfTCiBBDR6BM=,tag:catxcXw+vJpByWwxuEoLbw==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 172.16.16.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnMasters: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1j3hsfptdfsfwvkf504etjkrtmajny9csrfh5s24uqh6fchmg5dgqg087ek
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBkMStTSHR6d0hQQzIvS3FR
        Yk1EZHhZbHgxZ1dvRDllclJpb0t3U3N2QlRvCmZMclNxSkJxTmhYbW5mcE9VY1Np
        Nis5UEwwTm9DN1VsTE92d2xiRmhGcG8KLS0tIDVMWW15RjVyWU9UUks2MCs4VEdx
        Z2pUYTNGZjZJWDVZcnVXU3JsVnNxUTgKJHOIAku4HuNsVanVR8FerZn+uQEv5Bbz
        JUJCXqGvjZVVKVp2uuq6l1LTC7j7QEnfRjJ+lE+HzNfVZt5cktnGFg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2024-11-27T09:51:36Z"
  mac: ENC[AES256_GCM,data:djMfd5XFC5oncH4n/3fLZf3K7IEyFYVkSdEbZsjoU1n8UO8N7Sy7swy+jNjLKEkXWOySd3YVsBlopANhG6mGqU21uoJ1o5lG5Tzu/5c5pOwhxGjj1ApIGRvgetpE7Z6K1vf7Uz8UvyFRBYRoy3bkVOTS2lh8WX27D3aA9yWzSrQ=,iv:nI6dkhSmIhh+R10Wno3L9P6V+aXgQbq8gqmTT9RY+sk=,tag:oakKUf73CyRCfpJpeTXImQ==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.1
