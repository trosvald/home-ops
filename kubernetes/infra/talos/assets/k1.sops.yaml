version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:qWfo3a0CiScb/KzXQnFfhi4g3rwnKas=,iv:skvCco2+bAK7RErB3MgcJvE5BckQWl4GJEXDSm2oK9s=,tag:hpfK6gcfvXsx/LtXFhvF3Q==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:4DdXdmZEgx1Y02i3ZsmFefdF39fKASnMXatF0zwqKyaXM0d5zU+ugMDHMzpFgvdDoQm5/ohpSgkm/+PEmsC9q7chnzewv8W0zblaeflz29JzP07JNki3yN/Wga1OJv/tE8DQJps4/o+YRqIBRZrC96wMH5ODbhmu66VEyhLSTNvWF7AshUyQx1S/i4/TT3FgytOZnMbP+J4xEbHAraQ0M4DLmhiOmKi5Mypiu7dsM9e7FKiajNRFdQsKk1Q5YxV02W3p5qtXPpue220p+WempzDeKOagCs/vu/9spVyMtnbMcLYlXB1WYiA63m/kG/V7tLweG3759DLBRx6fM/MUjXDWL7DaXWslmpAH+wuHgh4WtdcBLBSZRdmWyNigVrSCe9Gms3rxCapvXqBQx2jhtw6LMIJBVrLWAEoPDLqugSOYFcwi+7XNhk2qHrooWo0zKku+PUtx/B7m4/WNyrtenOR2CLfHN/N4LCKYW8hpVUOik4cfR9fWrACJ72F6iJNTU/xOSLgwzV0Usf/91alBZa6AypEtggHtdmm+N2E2Bi/TZUd5lwZni7kiKDtB4XIDHk3Txbb+7OKLEezl4q8UrbRjO9D9FKCQeRxLfz5T1FFUPTg3yF98GS3uQ4OXDEZ9LZMZvnEIfCnaONRXR2Vp29bt9fxdjkHseGnFuwCmznSu0+ZhvtpzuakXBdV/HyZ88SA2F/xLKnQWquZO7wva09nEhcM+Z/7IET0SS31ngq0QwSnACDyJJ2SIQ/m3D+VM2vAv5xWo7tEbIfiWcWC/S1GRRzJJymMmOGy/Q6FO+RWrkYMZSe4JSoxK1ZDszrUWWxLj9b40T3QvyffdK9rCJyKn0/ZcAQ6u2IrhDoc/pv8sNso1,iv:bDvqiWHfqkSSeRCCvO5nqWgQ51SNkEjb4/B+rn5GpVk=,tag:W5WU90xV3p3EFgcjJS4DzQ==,type:str]
    key: ENC[AES256_GCM,data:63wWLasWQATvq22jxMk/ijb0vrH054vogDIno9lEHYj/DzEAkgQD+f4ZlQ/hF7Yen6hah81GAYmYkKKeZHOIN70lqGolHrOaT35HljR6wXkV0tYS33v831fnoWXIPh2WQRgIWzjWkVO9jElDNU5ZeXzd3Wc0Y8UEr//oIBxELYIeasDDHuZ4YgodlCHhL+wBjZGryN8C8LwQLXPOBd1Ezlj3c183y3+zZVvjFuJ15cHljByi,iv:9cDfpbn+WxhvDODkYc3/QtPs/T7Rf2BFQpTeLVzqsPo=,tag:r3kn10FwLadrJ4heUFd5XA==,type:str]
  certSANs:
    - 172.16.16.1
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      rotate-server-certificates: "true"
    extraMounts:
      - destination: /var/mnt/longhorn
        type: bind
        source: /var/mnt/longhorn
        options:
          - bind
          - rshared
          - rw
      - destination: /var/localpath
        type: bind
        source: /var/localpath
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 172.16.16.0/24
    disableManifestsDirectory: true
  network:
    hostname: k1.monosense.dev
    interfaces:
      - interface: enp0s31f6
        addresses:
          - 172.16.16.3/24
        routes:
          - network: 0.0.0.0/0
            gateway: 172.16.16.254
        vlans:
          - routes: []
            dhcp: true
            vlanId: 1613
            mtu: 1500
            dhcpOptions:
              routeMetric: 4096
        mtu: 1500
        dhcp: false
        vip:
          ip: 172.16.16.1
    nameservers:
      - 172.16.16.254
      - 10.11.11.12
      - 10.16.16.4
    extraHostEntries:
      - ip: 172.16.16.1
        aliases:
          - k8s.monosense.dev
          - infra.monosense.dev
    disableSearchDomain: true
  disks:
    - device: /dev/nvme0n1
      partitions:
        - mountpoint: /var/mnt/longhorn
  install:
    disk: /dev/sdb
    extraKernelArgs:
      - mitigations=off
    image: factory.talos.dev/installer/ba0a120eebddb1f0ded54bb4f2adc3a8df6c947d1aeaa7ebf2149825ba32dfc0:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - content: |-
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
          [plugins."io.containerd.grpc.v1.cri".containerd]
            discard_unpacked_layers = false
          [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
            discard_unpacked_layers = false
      permissions: 0
      path: /etc/cri/conf.d/20-customization.part
      op: create
    - content: |-
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        noatime=True
        nodiratime=True
        rsize=131072
        wsize=131072
        nconnect=8
      permissions: 420
      path: /etc/nfsmount.conf
      op: overwrite
  time:
    disabled: false
    servers:
      - time.google.com
      - time.cloudflare.com
      - 172.16.16.254
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    kernel.randomize_va_space: "0"
    net.core.netdev_max_backlog: "30000"
    net.core.rmem_max: "67108864"
    net.core.wmem_max: "67108864"
    net.ipv4.tcp_rmem: 4096 87380 33554432
    net.ipv4.tcp_tw_reuse: "1"
    net.ipv4.tcp_window_scaling: "1"
    net.ipv4.tcp_wmem: 4096 65536 33554432
  features:
    rbac: true
    stableHostname: true
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  nodeLabels:
    topology.kubernetes.io/region: infra
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:ea/L8fV9qJjJaGAVc0eMQU+yyPD43kRFSejOlDaFSgIXFRQ2qPhLyT1W9dY=,iv:LCf/5cC6yWvm1zn/0z+/T3i/iVRJpNqqk46pglI9ImE=,tag:j2/rxxOGi29E52qE/73NHw==,type:str]
  secret: ENC[AES256_GCM,data:q3iGwuauffKOlEYtDzRG2tqDzYq0y5GZOMCX/RYSQu+L7Ll0N1JxpEhlsuc=,iv:HwnEHApq3orNz+2ZifxLCOX6X9kVCPI818HfQppqyXU=,tag:veOqr7GBXu48yGdhUt8s9A==,type:str]
  controlPlane:
    endpoint: https://k8s.monosense.dev:6443
  clusterName: infra
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.44.0.0/16
    serviceSubnets:
      - 10.45.0.0/16
  token: ENC[AES256_GCM,data:q+7VjJWENC8ZUMOznDDT+2W3yaf8+r0=,iv:oiA+p8dMjDoNOVuCHzZy3hbvvSPaUliZlVzrH1Q/ymA=,tag:cwfZ1Zgotmt4fEW+LIlwlA==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:hgtkZxKzYi+CaBMgK2dz8+OkouKB6uG7oUBa+3OMohr4fjo85/c16Z+4CHY=,iv:O3y3S8b5SlMzNiJKSM5lloptVXQyGYxPv5gqp3t6n5c=,tag:EX50DSyESNZINHAQIsm8FA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:QlEVx+sxcukZOg1B9+PHLWowLvoM+q2IT2VCIjRaRrhTW5Vn2S1jlQQcKiHEV87ABWxgnNJZV50Q+cwFkT6uHNBUWVxEeOTYGJiIRK+H8r9C1VTzNOZYYvleOXAbedP/lvIWeielfbftslw1ON4BUccF+UIhCMnW+9tkdLG2/x6gobx5XzUmAtJrg/ynS5BrCv5q8ky0mtAk9klU4Xu/COwzkmSWX/qlGe1Ac+2UgrUKke89S5FrpGD2YNU5EUwQV5//4Yw6nfni1pomBoKQ72TyjxSlladJ82LNrIX0uNXa2cpbVwpXtj/lVl5W3YRfK1L0Ecd9JUoaloStqNN8WY1PztDyHaGdWnlKBvpBdoF2ROYviHxC8wtpNn24GDUQDAa34iYNRugASiekNaufqNtuAvFyPPIWl9nJyKml2yqjUaQzqVWMyECWlgzG83siW/otAgWrUvTs1666yoFGfhQoppSs76Q54tonEnV6HNYUeQnOZkae4MfwlkWMDitMeBS9tSnjP9NZE/5Q1MxdGdaczri2AvzM6M07/SBwGtXe90ow41x09bUOiiaRFexOpH+gAX+U86aiXdzxOjClis70S6trZi+mijv7G3L8o4KTwIxA+Ar7vuDTvrDlgDMQNv73Q2l8miRYnGjYRH/1/3smg+GIldV/1ViFQ5vDJtzyZm5PYA33zx0D/zp0H/PF+CEo/n4bL/vNN2u/xIHAiA/EUIdL6rMz9hekdmme/WpVVwX2vHaWGnISuaL3FcZDvN36dc4MivkWnh/AI4jm9sXN85rzo/YUNDLVqGy5H3pg7PWK5pCToEgb2ES3qiriynGIa2lwx6Vvh1Krg2HOOjNxzc88AaibyK67/rQZp5vJMdIY1kdXON1MANqKgDBxG+I8qMhSQ9MeQZjQVVtC6bAxR4tlqMkscFdZL1wihioTbpUWdM7/a6GpUMOR/P0YFGdU4fv5wtJyNa1D5qiQtX+h3kclO4cXRbSMhhmo7ZRDDWrnUibUMR8AYJUwg1malNZNQ6gK6eTzf1BeXwO8GhrfdP0=,iv:Mst6ss0ntUS5mvV26QtxzH9+a7kTUhVTmUQKyhWRUEs=,tag:iTdZ1fmme3aj0OXB1uoQUw==,type:str]
    key: ENC[AES256_GCM,data:8C+TnFxI1Idn7xGUQXBpskbw1bClmROBOahB1hcFObSIQFi/1NtZE5rQWoWlZetHw2qW8XTDAjvr4UTLjr6Wc0PIGNARl/RGlu9CnN3Kl2NRFVbmv9TzszYSgzqEq1JzcrRz0PmAxI1K6+9rFG4aUxxG6m/8HzsF3C98iVa+G/qHbvtPEbotGp63SERG2ndMzj52XeTPT95Yl8GC7c2o1nNdGpBSLfjX0/jDwFvxP6cIbG5Ko0LCRzBq/lu0xN9KE3fAFIdBWG30KQc27VtAAI+QkpQTpDNR0mqIKAPw1v99Wg2E4RgX3r1s8a4F3ECcz73iS8WbMNufVZZyTPRM4LCL/NiLjK89wa6X8agGZX1HrVzfmDTqqXTcdf5DxkEq275+SNj9hwew3myiBI0gwA==,iv:LtIzlz3OvC9YFwr8OuGUJrj4AG/htz6CHBWtT3sW8I0=,tag:8dJ6frrUCbq12MB6DDQE9A==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:BrKm+tQs/2TxbpFBtuPAXNjf6YRul6UNMpmPlfZR9PrLPwOmKF7ovRDYyGfBdNrVEIt00TuzhcG+zCP+PR2D6KuwgwH1ImAHZPUzsiMsusXc2HphxP1L4jzPwWZRqwI7VAR1VlZ88jsNk6DNE2GeOd3rwJF2YJIbtx6B+pNGwFOYXpswkUXgf9H8xrxQLNtubqJLZOTL8UNgAULI4BAFYL1JR3Rpr6iyqSkShUkqtUwr8N48lzDbHqdZMakMnLA8zmjr4HEAmyYN4KyscdTIVq/1WTYnTwLy3OP2TOZenOrw41N6D9HZlEEAsfqcjHzNgEQ2QAqqa41Orv/SFoiyUNQSGUNjU8nxO/oY4cxXVpD3H7KedJbUrwk9qypXqSjBVb70672B9RlNcHw2DqRgmMHc/UO5HFqJATZcAAPAQKqwgZvA0fmfu2reR8zTam9mUtWWWB3C/nsDLbCgewPDKWt0R2Vl41N6mTBSfgZoFhSFfsgR7rpnUmCXER0ghT0P3FRq+wRyytpJSrEHDoFKGvalilaSYhT14gKVK1GJ7CVbMW1aojpDpH88mwKi3Hxu1MRwIjJxyO/7fqqXWkO1i+H6mR8vEK/yaZg7rQthUWVDFb2HmRjIdgVml/xcDCOdYrkf5EdJbdVwRK8JRB3nz+jPkdAgp5HyiL0kCvCprs0pwxu/JI+b1YJOKVNOfiU3ShUp9Ras5OuZSFJY1paCeLpMDDD7oeS+UWUz7PDGD8lMD02mvcqFklIgJ/S3VBUduiptcQabdJe6oReIsbZlSboP0r+Xn+RYUeyESQf7KJVq1cwcc+DmfECej8sNTG2R1rrV/cw+CpZWVFpTLR4v9YVgz56P/fDOSWY96nzsCvjssRfifSoPNtBOfTyY+crO+nDmt6UDp0s4fXkR1ufyEue9O9rz/3vXlu19Vm2p4AG89sGl2QKntUStfB3N6ahj,iv:XmwUG58vUZvHY4AK1xfJjdqnR7K8fFpOTZWo23CYEcg=,tag:A+R8yZf1SvyaMeqVdt73rQ==,type:str]
    key: ENC[AES256_GCM,data:sMbCopbjPWAs4C255n17cU1ABA5a1XCj9S5gRqo+bY9YeMCUJPS8L6r4mgGaK3yoVXzsHDg/BwqxgDwnurUhzPP+KwMbm9sfp3rsCQeQ9OVsV0UnuW0jeNYnVRy59Jwfw9Lq+clr2rxcvBJNQa/AAuAVzRgMVc2cQr9PI7ckvZhZuLHbGeGlQNKaANc20Q5m8vUHCeqvyre77o7mx6SgfLew+VXD3JXrH8rq8CUXORXAElz9avsV8WIZqwFBmSa95OE9cbnE0H1JyylQzb8taQm85ycEhXAf26VVr0CXquIhhaD9x6ghCpPhihEb9jtXEG7qd1b7GX+3IX/jnZJwvhW1RUTRBIZdKAzcU1bsiqY5Qlaq3+fci6IjCf/8TFuvgu79jMX+kBY9/g6uDdvWAw==,iv:smfLEIlP6veKevkd6gH4Kgshv98p+w+2AeVry9CP8KI=,tag:yOI6FWTSEMyLGoP+UXQMhg==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:ZrW/lkNCgi774IK7ZgXIfCjzP87S5HEhSAiPIvaEPXo=,tag:uCBvxTk+4KBnSQipnsj21w==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    certSANs:
      - k8s.monosense.dev
      - 172.16.16.1
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:{{ ENV.KUBERNETES_VERSION }}
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - pluginConfig:
            - args:
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
                defaultingType: List
              name: PodTopologySpread
          schedulerName: default-scheduler
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: false
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:vFc+BHuuUmEgQhcevOsdomgyhqYsATwqy9Ir1CyCPzhdAFbABtYRJEuMzb5fPpSsrtzAUHkFFcCjEWgtHafZYrz1vCEtG3MFc0Z/IgArzUOHNQUCde3L++7shL0HIaIlFn+JFHQTw1UJzamuSpP2PJWEEXRDYNZ8xas8TieT2I62AGQfiPXWIOI47s93z9U40bD2tj8cw9xoJM1/dFYUmb3/pJy0WIP5g/KZRiWi6vOV5pr6EMIWMHxEMDpiqI7p1fYv5S4M9tqZ4ch3eWa1BZc7ujlnM4CMQA771v/YMUCJomFo82g6S4rIjr6yZYP3Do5UcRMnACQAfO2eG4z8Bw+dUDAU2j1fP/h9TIljl1OCaHAYfM6tarTC6Q/wqc/xTMp2vOz7KNHNiynHT1EQ1Cnux5YV+cxL8PQgQzC/vvLXVfAC8DDwFpxnqzeFS0RWy9NLIt2RH/S81q47gWNkjl1lcmSsx+gmWDVljLE2HiH7a4xTb8uBOOv+UMTzqlequVMM96DHCl9/gUM9Ji4Wb0XMguEcFUdT3zf8h1gphzebpO3nuSs56BHFAgV4Ge1nnMwzF8FMujxkQyqlFxUnDfoOD7QHx6O/GF632V1sfd5BX9wi50oyTMadufGatuUDXjMgZjtjQO+gG3T3BbTL91mvBUmOybmxMHDU6LApcOgwacbD0gZOhDbbnaPcaI6PLdOCrVS5MAU+cSs4knmEljWloPMyS4Vm0XhXrWM/dP12hdLiVi4p0PMwvkHEwpaiiruInSRyJFg7rIBTn6EnThQA6qbdKfRFaQbcwAgrErgFaKiPxwPXW5DYlo8alDTNhFXJmjj6kUC6Z+vTGlkxDHxwQqAVNjRzcYDGSQehzdXUOz2+T1H3YnpH8/7av7YbvFWnN9GjWyMU4z8J96gTQ8UaILFRlp1sleEW4bRszDIJOsa4gPqGP702P5juhjkk15whK66CnyIQPK2HLb8niK/whZCWEcfd4ep5t4qrJI+afZXCnYhYNuy+ANlkW3KNKcFTVg==,iv:YnP7wnt7UqlFTeXPK3V3/hKy/j5xK4giBBy/15qUtwY=,tag:rf5EJXjZ6HxNwPoz21eCiQ==,type:str]
      key: ENC[AES256_GCM,data:M6EbCf2j5FcJYGihm9ppnU5NsrYDqZGEt+lxhqn7MOtjV+08NYwpBliVu0fa1z/3LZ/qul+X/ubDpnupwwxyjuA9l/X/aYb+e5okpfvfVbMx3Aca9t4aFZO0ihyHSde8kWieBm9RO5v8HlRvz396glaf7Xj458eY7cYljZ404Gk4GoWB8AsJ93RLsxUt4ER+GwPgByxTp0zz8waZ02dvOPJdEphDhoavH9wlsWjbIU/S63VLSG6n64Nh66/qzCwk5Mck1KGQ3HGJA+R3IVga6DjY+X+jpovxfB3oi+Ev4bHGDZ5nptkLqedElHfA+MwWvEdRrKmBdwAHoxBqHT8wd+spdNqjgGdIfa3f7+QfLYBGiq79H+bpthcSzaSS6JPhiD+4XJ6XOs1INYpJQS7IVA==,iv:XMyZP2XGnGi7JklPilYihBS9afgU/72EADp0HK5hrFE=,tag:qgtYMkYHdZ5LiyS8vQTX0Q==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 172.16.16.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnMasters: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1j3hsfptdfsfwvkf504etjkrtmajny9csrfh5s24uqh6fchmg5dgqg087ek
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBncklSWmN1YldpQ2hodW5r
        Z1RMcXZsakk0RFVHYkFhZk0zcXU4NEdvalMwCkx3UWd5WjZUUnkxckR5blFZNjli
        TUlUTGpPaExnK2NhT0xvQ3BOdWNqbXcKLS0tIDQ4MTRPWnd4a1ExZG9kbUs1clJp
        bXllYXZ1QUdpSzFyaFlzRXJ4a3ZpWnMKtg/Exd7VhHnb746bOTwkFVjb1Q69AMCV
        UjD+mJrco8DLTT2H0rWqrlay3t6SLhzKDsMgima6kx9dPpVi6v00Ug==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2024-11-27T09:51:36Z"
  mac: ENC[AES256_GCM,data:9S29bk2ae7t4Ig5CjuVV/jHBh9HtUPMKyuazF751upUD0PYApJLyTP5eDprJlIWIApEu8NH+hYpkE/A77mUIm6gZCDaroxxaevWslTcYiqIpd2wwhiD4bWe9MVpY3HEkJb3BqplniEtKNR/G3kgM88siE6BhT1t58e3hIStHMKA=,iv:r7zwnuQUToUVhcvEGnv4D6MSHRQ58s214wLqu5SBy9I=,tag:Q/xpviEUZr/DJP+3w2kJ0Q==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.1
