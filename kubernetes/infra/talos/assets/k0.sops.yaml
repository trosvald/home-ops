version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:nIXRDXzjrnW9jKQxPhcY7JvyybgOZzg=,iv:zrTu0e5Kw1DciuLvhNRWhsU2R1oyxPuxD+4OX//+ef8=,tag:oCTTyllcmcbFku7D0H2T2A==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:kDfrEkp9kfU2kETNqxvIhZ8F6n/2rIw6MX2AIBiWEih+az+A03CQvVpWofNo1VVw8coF0dXXlXz9UykUqJIZTv5EzUuEB7v2n+S5ylwPJL4ctNF7AIfMOOKWM2CrBbX0QmD83YMKWjbHnUeU2r1fKn7TftX/mfkgMvvxhzSGYRmDCRsxItbO+mFme99YtgNF6XkVgpEVEISVhD4Qm0Rq77olTNxL/ulwqyWqfEHhjqatTgfnW4t5Tt9O+mG6ya7wQd3t3bBCFyQw3HymEhdobF2SjB3pJkLjVXAW/46ZL4PSkKla72CwEUhTpXxFWJF3cZNtLnl4Pwy8rQSLbuV2XHgKzCCcTzbzCUSYvLRkzeKoercrQ60y0XM7f+KNqpcdsGAh7ewU6ADdeFHv1DmDo5B0Vi4tmr6QVkqon3KAfOd0v/V4tTWNMbo5/Wdkw5BHljvcgntAIV4I7R0lwQhbuTbwVrL9FNNtv/QGMPeG1u78IkP9Oqq32hrQHJpsAyOiKP1eq6POGb1kAMCamj8EBrsbNqq8ii1s9dIvluiON2nwi0iEkm+Tp7N0Sp6aPb3vmk1w+5iQaPkO6mFbTF0UsxqwGSLGePegEzqLNZ1xz3VGreAgJUH5R+QcPWmwcCLwHGd/3BIQB61NJhX2BC3KNo8ysYdUH/Q4jbBqJnPyw3WNhPmlaHAPck5/6YkFkmbmnmSl1IVOTkc2K+fRvY2xAUMSJc6dsGCmgNbToJcHN9jZRYkeOZHLNnd58kK6ZdqBn4k6/Ikjl1/wX45gBvyU+AITHZ+8UQNyDc3RMGuWL2L9ipEaOAxqEANXzZ+oZiDEjo4cnpsLHZ3pn2el1Tf1BvR26CyjpUM03c1YdKI2bCqpVjqs,iv:fA4hmN1Hy85IItryc1D6jQ8slWVnuzPzWFlpHNKngXA=,tag:wSvpcu97j1tqgOboVVJwVw==,type:str]
    key: ENC[AES256_GCM,data:FRJA/otovKcEnaAMxKb9/uTMZgTMsaQ7P3vYjwskWOTJ1CjERvrjpIjlWtJVRXWqU5CLO8hgJHI4i2Qhq8RG5oyM3zryiKn/L3BbcIBEc6ABoW5788m7LaMCg0L7ljgj+kqe3tzF4eQoAtKXJWYQ17BsYiiQfEb4DEo8iGDACvpcYvgRa1MWc+WJarRkLUAHnvJvjQtnZxPSwTZe0yfjqygFYNycUGwjZrcbGNLin1DyuPUg,iv:koQm9aL0Lko7HgFFAloSIuiIh4tFt+eHh1AkudYqtbI=,tag:K+xzUed7RTRuGRbSQBYg0g==,type:str]
  certSANs:
    - 172.16.16.1
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      rotate-server-certificates: "true"
    extraMounts:
      - destination: /var/mnt/longhorn
        type: bind
        source: /var/mnt/longhorn
        options:
          - bind
          - rshared
          - rw
      - destination: /var/localpath
        type: bind
        source: /var/localpath
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 172.16.16.0/24
    disableManifestsDirectory: true
  network:
    hostname: k0.monosense.dev
    interfaces:
      - interface: enp0s31f6
        addresses:
          - 172.16.16.2/24
        routes:
          - network: 0.0.0.0/0
            gateway: 172.16.16.254
        vlans:
          - routes: []
            dhcp: true
            vlanId: 1613
            mtu: 1500
            dhcpOptions:
              routeMetric: 4096
        mtu: 1500
        dhcp: false
        vip:
          ip: 172.16.16.1
    nameservers:
      - 172.16.16.254
      - 10.11.11.12
      - 10.16.16.4
    extraHostEntries:
      - ip: 172.16.16.1
        aliases:
          - k8s.monosense.dev
          - infra.monosense.dev
    disableSearchDomain: true
  disks:
    - device: /dev/nvme0n1
      partitions:
        - mountpoint: /var/mnt/longhorn
  install:
    disk: /dev/sdb
    extraKernelArgs:
      - mitigations=off
    image: factory.talos.dev/installer/ba0a120eebddb1f0ded54bb4f2adc3a8df6c947d1aeaa7ebf2149825ba32dfc0:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - content: |-
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
          [plugins."io.containerd.grpc.v1.cri".containerd]
            discard_unpacked_layers = false
          [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
            discard_unpacked_layers = false
      permissions: 0
      path: /etc/cri/conf.d/20-customization.part
      op: create
    - content: |-
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        noatime=True
        nodiratime=True
        rsize=131072
        wsize=131072
        nconnect=8
      permissions: 420
      path: /etc/nfsmount.conf
      op: overwrite
  time:
    disabled: false
    servers:
      - time.google.com
      - time.cloudflare.com
      - 172.16.16.254
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    kernel.randomize_va_space: "0"
    net.core.netdev_max_backlog: "30000"
    net.core.rmem_max: "67108864"
    net.core.wmem_max: "67108864"
    net.ipv4.tcp_rmem: 4096 87380 33554432
    net.ipv4.tcp_tw_reuse: "1"
    net.ipv4.tcp_window_scaling: "1"
    net.ipv4.tcp_wmem: 4096 65536 33554432
  features:
    rbac: true
    stableHostname: true
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  nodeLabels:
    topology.kubernetes.io/region: infra
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:KDgU5s+w78iPjDLuPNKph1+X8yvQVyp/HIpAxqacOX+umULW37xYuZkvoGM=,iv:hgI5aqbEhi2mUaNO+sVdktdlq3Jkf22kMnxYmI9WDUY=,tag:mtQlmuKriJ3hGfhtu5/v/Q==,type:str]
  secret: ENC[AES256_GCM,data:x0jQA1WggG/mr85Z6eR2o6sHee1YlDfBF0X727fWYPtm2nzaAroRCYl6b6w=,iv:3Il/PcREAb5f2a761yw51Jx/O3VDIC5CEZYMEu2pN7M=,tag:XjlXy1F3dlZairr/xaF1mA==,type:str]
  controlPlane:
    endpoint: https://k8s.monosense.dev:6443
  clusterName: infra
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.44.0.0/16
    serviceSubnets:
      - 10.45.0.0/16
  token: ENC[AES256_GCM,data:mFnkWr5mTvdqSVSy6uFAhd8h8wkQSYY=,iv:6BAyexlqTKUfxcz6+LOf7HQRoDiluHlEx8U0Fj403JU=,tag:DUo7GN3be2IYurb0HcjhOw==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:s95Gw4ROILcZhjyMZ/7sCrkcOWCf9PF3TT2yr/9pBjbPxgqJJPuqhoxzogU=,iv:FsHXAzsMNefQI8OoHflEIIsyBNl+/B8af411KPdZcko=,tag:vTURy1RI+Qo/07SBs8/D9A==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:A7/HvxP6jhBmxb+ZKeDF46peCbCNB1pSTkUNEAeMAvX1JQjZnlzT2Q/Q4sZAT/iFVyUmfnI85eevYkT83++hgIik8Xb/hsKQTpz8wnTQ1MMkrCSY3Wdu5E1W9dWD3DDiq7lqZA9YDO+mDPrLJQOk5O01wyhFcMMS4LSQgTz/BLJDPYEWXbdrjjOTn1KfieZgUW8pgbngciuaST/WD5zmGaNMFL0HHHW8uGoqI5sjPXHZNicvhyi9qV4hu2YzqKqCQf99Zq3G0beKqf62j7X/xcOigc6TbYcKjjFRhLaJdgNw+6a2sAzdCjCGZGr0g5HXgJ+Bb0hlO//lKGi2KVB1GhLTeJDZmml5vOHLcDAv0iwqkqSP4gH15N9qGtPIzTmVbTdjqNZmTlxorTToIF5jVXe6YCkNt+qrFSanrYipRKbWpcGT6USehHdtNzGXoQmvBOQPBBqmMRSyChlHtacqKTIRahkwJHeNOOrg40CnflefJCnyT7NrAYSQAibLq6PkDnwQGw6PP53cPfV+V/MefYtTF2pOP7tPzWzONhixmRKNjuk0uveYKf40uVcVt5iFnxfF51SaArOh90UL+61Q5+KLtuXLHi29yVu5rAxkx5PRko7smhJ7v27ff/4QRLQL1QwbvOfgwAdh/iqs8/0YxddtKTHCWjjSDdqctV8FL01zI6E067UIdS4lmnxrLlnM5QqTJhasUxN+ubI3iUFNs1pCOf38F9NBk4K/EmUzzDnJTh7lm0doicWuvJI0IE0DmWCT4f2cim+C6u+0ORNA1Ljao9sjgqQxXkcjW+cPGCOLPpV71/jWIuDBowkPFeqHFuAFWwLlNsk+6aRd8i5HO0cZ922ipC0b47qRrjySlZmKdaLX29L52R2i63WdtCpCOjcQe1vY2Fq6vGagtqMi0zncAjtNl6Tv+UQTyTnHAi88y96hVbo2+BuzBa5F9sKu3UMiIQzsgPvfCrhQfyxUY71DDbf3BDnOuB43lBBC6c4VsZXmK94AlvJfD0q4f9tJd+0vSIgcQMEwSuAaQyVMJ4vcaVA=,iv:CnkOrDYuzdlGq8PkjfwBX+CpOxEi1ls33pw4xVd6HLg=,tag:PV7GL17oQqau5I4T+Xytfg==,type:str]
    key: ENC[AES256_GCM,data:1qxhV1kQdY+rIxhzIoE5WHezGBq7cEflnnDRJj7MzHt6CyI7ELdJfOxpKdBdYGBo7Yo7VJGLorU/rU2Hf89Z13yKIdbLxeLFWeXk50Q0I+2qAG0xHqzLIFHp3p531E/odQlsuY7IsawVSalTFlwLux3O3+0MCA15bP1bMyhkCBEXlDuSJsPK71r8eD9RlCvAUJZL0+JYaIkYSvMZfRE4/QRO6q5Weg2y6bQ+6GkpbJ7nXu1lrMXAi3SWnGzVuD6z5K0kN1FI8lW9OizC6HOwHLvP4vyXkTXRFmiRYwq6nGmhQwn11/4+s/2fF3X6wzVsuPmsbWnmY3gBouPbox3w3YbmcXMCpPEBMr8t6PTlesNr4/3ZRdecvWophJL614V+nHcwK8R7ypMa7FzzCSI/gA==,iv:JLQZKsfBqOYJyCwoASZ4akF7IR64vnX5dTJk/xdzYrA=,tag:sxL/Lyl6TV+TgoI2q8Bsmw==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:ot0+3DA3HB1eD77hOE1WIbZiHKRlnkRbdOCR/y0W4048hxrryIeKNJQJ++Ay7HND7Sh0+BhVuKRszHrxw79X8qd/7beAGDOoIp+7yECe1CrJvu9JGbhexCwX1snB6W89hzquziJvn7YMam20gu7tGzkg3pwBE22N/G5pFBcwCpdJR4NpkuxaiV4hB1jHHS8jM7/LtgZfc8ujAg0mK4g8KeCGOE0PZYPR4BZQvoWSgGDOQ//2BTvxRvAWGBJ+I12hfCt/x8GVo/C7CDQY8mi+PVO/Z4YHd6tUqPt/QpQl/T8Ad9VSWfIsvl7OCSw/HcqgeNO+LjW4Is1fOMLH0mZiD4Qj5Uy2+sIEuM1EI2FwQc9SvjEOurbq/QZqrGu8cKTb1BqkgYktA+spj+ow2QvLZbq9arFcJgY6Oba8bp6wYDseGDz4joNXNVhowGOoGQJ3bSIcONOorYb8tX3jEsn7z09Z7EiRnnVJusc96nvljk2f+no/HYUEZU81biiCv99c5dFb/moIkubBythw5O1CZhaROT40TxB/MqwUT1n0bkJg+T3pToJ2qaT1+OgYIn9Z2SfkR70/9ElPwd1kiuMnqX5e+Giw08k0hn7CRBKQZesUsDm5WF0b2TuTrDKduHdf5tn0L74Lpz+PQqkvWD3lxHQ6UHQAmeMXsiyX4b6NRyrs0zlOeRdAcQVSMJzBFhHfnuXa36nZAcsLKhNx3NmfE/Dr6WeoQI1PCIRokKBfNycHeKSsvPXTfWrBEDdbBwkRTOY+6IoL2ARyYFSVJ5iGe36aYJLYxXAejge4T6s5lem5QtvE9f38Erjs3nd66XizOQSnYUhgVvqud8e4sxB08T5o8abD45xEHN3UQiNOG9f5pgfNish6Jauu3qb1TT8IL01GZP4tfTk8Wsh+I1ESoKEpJZiLv6xhMd/b1ZOD0swz0gJ/cmwBnHSfZt3ttkXV,iv:ZZ/cH5lwYXBbvk2RM0vxKu/E7HgoxpXm/nZaQ2fi3Mg=,tag:3ihsFWk9c718a0LeUC8HOA==,type:str]
    key: ENC[AES256_GCM,data:3ngd4Z+QJfb+8UMZqXj6FZr5/GASk56pX5RVDNxiA9IpG36iq/sJotWQFBrZJFpYlFvtl115QSJNX9pdefgFOtygxFB4Gru0NJHrWLlxDm7iBMqKJkqwp0xXU+1lVyFjPaRqtDguNjZWyiEVAQt273oktIZ6oD2J47wesNTLF4DM8RPeJAOYWUqwEYQXihoPu+zA9fToxADzR7s3u02najSDc8AHqt2EwoGZv+p3jTeL/Aor7Eo1fISsya89NptO4avCAXPLWfOIX472KXKN7XxHqQ1Df60tXBm4OAWuKTdbC1iDB4nXrO4fOxEHQH4tzw+9jujWrUDcluvlKPFb8ixW0iJCRtn7uQK/WRb/pA3oF55WtT23riAy0lUL/1SLR0vyWzw3fjwEVNicAEX/Aw==,iv:EYoIsXyELAXJEDNyX3D99PS62ovdqtEsS51ngFChTII=,tag:mcFt3qdZlrvY890TElSCHQ==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:d0WImRpAcUL3g3yz0KhNzGbt6xLX9hJPz3ENemUGVB0=,tag:Gzne6rfce0HW0LyJllh3FA==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    certSANs:
      - k8s.monosense.dev
      - 172.16.16.1
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:{{ ENV.KUBERNETES_VERSION }}
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - pluginConfig:
            - args:
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
                defaultingType: List
              name: PodTopologySpread
          schedulerName: default-scheduler
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: false
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:hidcQCjYlologYEPHIV4RP5zWLI3l1Pcd8RnLrqMf0/RqNTt/7EvPfsoHwGf7QUb/B7W6UAC/t1Aaimpi4zL7wpoiwY2C6shPF8V/rRpxxPyyReY+XurvAl/b1R9lHuOSIYo1BEApUao9ic6gyg4hYvVCd2lBN0f5bfYoxZ2S4KJYTeS8TmUjF5HRK9X8Xg1jqKDxDDIo9Qq6iumyyrDsdJLs5ftyfwrg0sndgf03FdM9PkuaGWp64K9J9ccDoQmX/fIDU6M2VnZtxBhFUwrqxWZzITKgk+hAlUJaVay7qiN+aRAGbFwfVlA0kUfxNmGp9+WTWQ4rTlqaIPkPTlOx6hGPvhq/GPEzIfipfNdniNa2ZBb/v3fdOw5S1pT74YQY2hTWSfV5c8AyT3YvViVikryeWovWWBLRbvKN+EGO10XP7vKB4SWOKVQsjhfCdm10oHBzUdGa0iNldrfzzYIp375OOe8ZKjebru50zq6fc1z8qOqYY3ks1B1R0pYEjAq4cfJGBB9n3O8C6FhICvCFhqJIJFWRI+q3071cTuOXFx+gNSv96k6caKduB2wVHGbd2d+fYzCXrh6LzouSS9Qxg4EbAPwVrpNFnTfi7K5uBF4bzHvieRwltWVTb1nwq0Cemmam9UecVKzhDkv58SnVHk+bVHe2HhfqMDv75mwbVxccZV7aX/FZ5vpNZJa7DhhZHX1HQzUxkUBYX+Nq2EuOmFzcBFwakhQCgFnVsNuawFKnVFyUgrp9g79Z+X30i7KEr0pUq1m9NB+UYmXTWmhec4XXKVNr1i2Yx4nE3S01GlfpgtCJ3Vt1udm1WncllzUyHmUvC8ahoJr1yDOu3VUApYoA96lfwpC5gb/6l3yv12hetAdN2gGeWIiHJaz8TU9+iTahGd2yEs46n0Ftin4aO4i5cUCM++XPO0G56MaRejhrmOgCC/xvD/x8nvSnkAyGJyaNaPCZ8YMId1xQRp9LwP63X51M2JLvm2kpqVm3i2xgMZ5iqTBbbwromrf2fG8gDtpWQ==,iv:7H7ahicw5kZA8ZXbBDP4YiKVJ0cHegVil5Lp1dW0Hf8=,tag:6j2DziUfJyc5DqDOmY8hzQ==,type:str]
      key: ENC[AES256_GCM,data:PevXMMt/rYlGwUYAxwYX0dS6lGtNvoWeqj6S2hcnF2hHcZmKpQ5LgZOoMKpRRWemw93JcWFHn7g4AP34hEcrq5+C8+esdbjFh7npBKlhpsBVXOGL76RwZSbm+iBDsLeSACTzlCXpF556M6aCDdigTWUEu7DxqfHTduC7uWHxBxPGdV3aaWaAVxD9fV0fvXMJJdDzfG/C4MoK/ThhhU937o1pPjEBmMHZdUwneNtInYVu5rdrfGO9cjrWestSzHw9196OtwJU+AIlO8uFRFEHY9mlJpRs+X3rHFaLDPRYywshs0Pvh0IPRlSh+U42M16I583MEmlomYMN7fafL5holNF/JG/MyLx8vE/uxn1nvFGqeGA2LdurBPX1XVMP/9H/IRi/RGUltQ+pYw/mZFBRIA==,iv:Hon8k6KmVahp/pdjRJZ0VOPTznx6sN2Jl12diwwj3+4=,tag:ZOzbnhwZngaH5O1eRvmG/g==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 172.16.16.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnMasters: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1j3hsfptdfsfwvkf504etjkrtmajny9csrfh5s24uqh6fchmg5dgqg087ek
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBqN0NXZG5oU1NLaExOdCt1
        Q1RDRDN5YkljNzlDOFJ0Tm9kRDV3OVZyUlNBCmVOZFRTSU1YQks2Ty9hSENiK3Zr
        WlFTTk1BZEVKVzRKZjZOWC9tOEJ1TUUKLS0tIFNiNzZQMXNsZHZ3YWdudkZQNno3
        ZE82Y1VEdlJwc2VCNGtmK25OK09NdlUKFawzuChig1sGgfP1xTbMqIEGOl39/A/f
        sMPb9e+9w8/TeovHGgKjPnLXhMJD37HXO+EPlTmOLtHopBnPrTN4Jw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2024-11-27T09:51:36Z"
  mac: ENC[AES256_GCM,data:XT227i1SmlfM6LczQEZpdxg1j5t+0eEp8jy4Hn+o3iVCXVe+7lxwoCMK85DAnFu9503KnruVGWwfSwUb7QHRQgS4SOmUm0gln6ZHyBGbXakiUqW0Gb2F4gXe2bV1MLonp+mQK0WHpu8G7aXXrPHSvPTxdZDUKw/pngMoVOv3feM=,iv:+tYAhL1PewQ7X9UzWB+ZepLXnw4QH9C4B6rYht9YqOg=,tag:AMNH//xS9ogX6i/MEzbR3A==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.1
