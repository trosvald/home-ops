---
metrics: true

storage:
  type: postgres
  path: ${DB_URI}
  caching: true
alerting:
  telegram:
    id: ${TELEGRAM_CHANNEL_ID}
    token: ${TELEGRAM_TOKEN}
connectivity:
  checker:
    target: 8.8.8.8:53
    interval: 1m

endpoints:
  - name: hearbeat
    group: healthcheck
    # ui:
    #   hide-hostname: true
    #   hide-url: true
    url: ${STATUS_PAGE_HEARTBEAT_URL}
    interval: 1m
    client:
      dns-resolver: tcp://8.8.8.8:53
    conditions:
      - "[STATUS] == 200"
    alerts:
      - type: telegram
        send-on-resolved: true

  - name: s3.monosense.dev
    group: certificates
    url: https://s3.monosense.dev
    interval: 24h
    conditions:
      - "[CONNECTED] == true"
      - "[CERTIFICATE_EXPIRATION] == 336h"
    alerts:
      - type: telegram

ui:
  title: Status | Gatus
  header: Health Status
  logo: https://avatars.githubusercontent.com/u/11927171
  link: https://github.com/trosvald
  buttons:
    - name: Github
      link: https://github.com/trosvald
    - name: Homelab
      link: https://github.com/trosvald/home-ops

web:
  port: ${GATUS_WEB_PORT}
